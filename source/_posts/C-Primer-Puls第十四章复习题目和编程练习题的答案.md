---

title: C-Primer-Puls第十四章复习题目和编程练习题的答案
date: 2020-04-08 11:02:00
tags: [答案,题目]
categories: C语言

---

本章内容为《C Primer Plus第六版》第十四章复习题和编程练习题的答案
## 复习题
### 第一题
1. 下面的结构模板有什么问题：
        structure
        {
            char itable;
            int num[20];
            char *togs
        }
<!--more-->

----------

### 第二题
2. 下面是程序的一部分，输出是什么？
``` c
#include <stdio.h>
struct house
{
    float sqft;
    int rooms;
    int stories;
    char address[40];
};
int main(void)
{
    struct house fruzt = {1560.0, 6, 1, "22 Spiffo Road"};
    struct house *sign;
    sign = &fruzt;
    printf("%d %d\n", fruzt.rooms, sign->stories);
    printf("%s \n", fruzt.address);
    printf("%c %c\n", sign->address[3], fruzt.address[4]);
    return 0;
}
```

----------

### 第三题
3. 设计一个结构模板储存一个月份名、该月份名的3个字母缩写、该月的天数以及月份号。

----------

### 第四题
4. 定义一个数组，内含12个结构（第3题的结构类型）并初始化为一个年份（非闰年）。

----------

### 第五题
5. 编写一个函数，用户提供月份号，该函数就返回一年中到该月为止（包括该月）的总天数。假设在所有函数的外部声明了第3题的结构模版和 一个该类型结构的数组。

----------

### 第六题
6. a.假设有下面的 typedef，声明一个内含10个指定结构的数组。然后，单独给成员赋值（或等价字符串），使第3个元素表示一个焦距长度有 500mm，孔径为f/2.0的Remarkata镜头。
        typedef struct lens /* 描述镜头  */
        {
            float foclen;   /* 焦距长度，单位为mm */
            float fstop;    /* 孔径 */
            char brand[30]; /* 品牌名称 */
        } LENS;
b.重写a，在声明中使用一个待指定初始化器的初始化列表，而不是对每个成员单独赋值。

----------

### 第七题
7. 考虑下面程序片段：
``` c
        struct name
        {
            char first[20];
            char last[20];
        };
        struct bem
        {
            int limbs;
            struct name title;
            char type[30];
        };
        struct bem *pb;
        struct bem deb = {6, {"Berbnazel", "Gwolkapwolk"}, "Arcturan"};
        pb = &deb;
```
 a.下面的语句分别打印什么？
        printf("%d\n", deb.limbs);
        printf("%s\n", pb->type);
        printf("%s\n", pb->type + 2);
 b.如何用结构表示法（两种方法）表示 "Gwolkapwolk"？
 c.编写一个函数，以bem结构的地址作为参数，并以下面的形式输出结构的内容（假定结构模板在一个名为starfolk.h的头文件中）：
 Berbnazel Gwolkapwolk is a 6 -limbed Arcturan.

----------

### 第八题
8. 考虑下面的声明：
``` c
        struct fullname
        {
            char fname[20];
            char lname[20];
        };
        struct bard
        {
            struct fullname name;
            int born;
            int died;
        };
        struct bard willie;
        struct bard *pt = &willie;
```
 a. 用willie标识符标识willie结构的born成员。
 b. 用pt标识符标识willie结构的born成员。
 c. 调用scanf() 读入一个用willie标识符标识的born成员的值。
 d. 调用scanf() 读入一个用pt标识符标识的born成员的值。
 e. 调用scanf() 读入一个用willie标识符标识的name成员中lname成员的值。
 f. 调用scanf() 读入一个用pt标识符标识的name成员中lname成员的值。
 g. 构造一个标识符，标识willie结构变量所表示的姓名中名的第3个字母（英文的名在前）。
 h. 构造一个表达式，表示willie结构变量所表示的名和姓中的字母总数。

----------

### 第九题
9. 定义一个结构模板以储存这些项：汽车名、马力、EPA（美国环保局）城市交通MPG（每加仑燃料行驶的英里数）评级、轴距和出厂年份。 使用car作为该模版的标记。

----------

### 第十题
10. 假设有如下结构：
        struct gas
        {
            float distance;
            float gals;
            float mpg;
        };
a. 设计一个函数，接受struct gas类型的参数。假设传入的结构包含distance和gals信息。该函数为mpg成员计算正确的值，并把值返回该结构。
b. 设计一个函数，接受struct gas类型的参数。假设传入的结构包含distance和gals信息。该函数为mpg成员计算正确的值，并把该值赋给合适的成员。
----------

### 第十一题
11. 声明一个标记为choices的枚举，把枚举常量no、yes和maybe分别设置为0、1、2。

----------

### 第十二题
12. 声明一个指向函数的指针，该函数返回指向char的指针，接受一个指向char的指针和一个char类型的值。

----------

### 第十三题
13. 声明4个函数，并初始化一个指向这些函数的指针数组。每个函数都接受两个double类型的参数，返回double类型的值。另外，用两种方法使用 该数组调用带10.0和2.5实参的第2个函数。




----------

## 编程练习
### 第一题
1. 重新编写复习题 5，用月份名的拼写代替月份号（别忘了使用strcmp()）。在一个简单的程序中测试该函数。

----------

### 第二题
2. 编写一个函数，提示用户输入日、月和年。月份可以是月份号、月份名或月份名缩写。然后该程序应返回一年中到用户指定日子（包括这一天） 的总天数。

----------

### 第三题
3. 修改程序清单 14.2 中的图书目录程序，使其按照输入图书的顺序输出图书的信息，然后按照标题字母的声明输出图书的信息，最后按照价格的升序输出图书的信息。

----------

### 第四题
4. 编写一个程序，创建一个有两个成员的结构模板：
a.第1个成员是社会保险号，第2个成员是一个有3个成员的结构，第1个成员代表名，第2个成员代表中间名，第3个成员表示姓。创建并初始化一个内含5个该类型结构的数组。该程序以下面的格式打印数据：
Dribble, Flossie M.–– 302039823
如果有中间名，只打印它的第1个字母，后面加一个点（.）；如果没有中间名，则不用打印点。编写一个程序进行打印，把结构数组传递给这个函数。
b.修改a部分，传递结构的值而不是结构的地址。

----------

### 第五题
5. 编写一个程序满足下面的要求。
a. 外部定义一个有两个成员的结构模板name：一个字符串储存名，一个字符串储存姓。
b. 外部定义一个有3个成员的结构模板student：一个name类型的结构，一个grade数组储存3个浮点型分数，一个变量储存3个分数平均数。
c. 在main()函数中声明一个内含CSIZE（CSIZE = 4）个student类型结构的数组，并初始化这些结构的名字部分。用函数执行g、e、f和g中描述的任务。
d. 以交互的方式获取每个学生的成绩，提示用户输入学生的姓名和分数。把分数储存到grade数组相应的结构中。可以在main()函数或其他函数中用循环来完成。
e. 计算每个结构的平均分，并把计算后的值赋给合适的成员。
f. 打印每个结构的信息。
g. 打印班级的平均分，即所有结构的数值成员的平均值。

----------

### 第六题
6. 一个文本文件中保存着一个垒球队的信息。每行数据都是这样排列：
4 Jessie Joybat 5 2 1 1
第1项是球员号，为方便起见，其范围是0～18。第2项是球员的名。第3项是球员的姓。名和姓都是一个单词。第4项是官方统计的球员上场次数。 接着3项分别是击中数、走垒数和打点（RBI）。文件可能包含多场比赛的 数据，所以同一位球员可能有多行数据，而且同一位球员的多行数据之间可能有其他球员的数据。编写一个程序，把数据储存到一个结构数组中。该结构中的成员要分别表示球员的名、姓、上场次数、击中数、走垒数、打点和 安打率（稍后计算）。可以使用球员号作为数组的索引。该程序要读到文件结尾，并统计每位球员的各项累计总和。
世界棒球统计与之相关。例如，一次走垒和触垒中的失误不计入上场次数，但是可能产生一个RBI。但是该程序要做的是像下面描述的一样读取和 处理数据文件，不会关心数据的实际含义。
要实现这些功能，最简单的方法是把结构的内容都初始化为零，把文件中的数据读入临时变量中，然后将其加入相应的结构中。程序读完文件后，应计算每位球员的安打率，并把计算结果储存到结构的相应成员中。计算安打率是用球员的累计击中数除以上场累计次数。这是一个浮点数计算。最后，程序结合整个球队的统计数据，一行显示一位球员的累计数据。

----------

### 第七题
7. 修改程序清单 14.14，从文件中读取每条记录并显示出来，允许用户删除记录或修改记录的内容。如果删除记录，把空出来的空间留给下一个要 读入的记录。要修改现有的文件内容，必须用"r+b"模式，而不是"a+b"模 式。而且，必须更加注意定位文件指针，防止新加入的记录覆盖现有记录。最简单的方法是改动储存在内存中的所有数据，然后再把最后的信息写入文件。跟踪的一个方法是在book结构中添加一个成员表示是否该项被删除。

----------

### 第八题
8. 巨人航空公司的机群由12个座位的飞机组成。它每天飞行一个航班。根据下面的要求，编写一个座位预订程序。
a.该程序使用一个内含 12 个结构的数组。每个结构中包括：一个成员表示座位编号、一个成员表示座位是否已被预订、一个成员表示预订人的 名、一个成员表示预订人的姓。
b.该程序显示下面的菜单：
To choose a function, enter its letter label:
a) Show number of empty seats
b) Show list of empty seats
c) Show alphabetical list of seats
d) Assign a customer to a seat assignment
e) Delete a seat assignment
f) Quit
c.该程序能成功执行上面给出的菜单。选择d)和e)要提示用户进行额外输入，每个选项都能让用户中止输入。
d.执行特定程序后，该程序再次显示菜单，除非用户选择f)。

----------

### 第九题
9. 巨人航空公司（编程练习 8）需要另一架飞机（容量相同），每天飞4 班（航班 102、311、444 和519）。把程序扩展为可以处理4个航班。用一个顶层菜单提供航班选择和退出。选择一个特定航班，就会出现和编程练习 8类似的菜单。但是该菜单要添加一个新选项：确认座位分配。而且，菜单中的退出是返回顶层菜单。每次显示都要指明当前正在处理的航班号。另外，座位分配显示要指明确认状态。

----------

### 第十题
10. 编写一个程序，通过一个函数指针数组实现菜单。例如，选择菜单中的 a，将激活由该数组第 1个元素指向的函数。

----------

### 第十一题
11. 编写一个名为transform()的函数，接受4个参数：内含double类型数据的源数组名、内含double类型数据的目标数组名、一个表示数组元素个数的int类型参数、函数名（或等价的函数指针）。transform()函数应把指定函数 应用于源数组中的每个元素，并把返回值储存在目标数组中。例如：
transform(source, target, 100, sin);
该声明会把target[0]设置为sin(source[0])，等等，共有100个元素。在一个程序中调用transform()4次，以测试该函数。分别使用math.h函数库中的两 个函数以及自定义的两个函数作为参数。