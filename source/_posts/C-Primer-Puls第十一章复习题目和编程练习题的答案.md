---

title: C-Primer-Puls第十一章复习题目和编程练习题的答案
date: 2020-01-28 07:24:00
tags: [答案,题目]
categories: C语言

---


本章内容为《C Primer Plus第六版》第十一章复习题和编程练习题的答案

## 复习题
### 第一题
1. 下面字符串的声明有什么问题？
``` c
int main(void)
{
    char name[] = {'F', 'e', 's','s' };
    ...
}
```
<!--more-->
----------


### 第二题
2. 下面的程序会打印什么？
``` c
#include <stdio.h>
int main(void)
{
    char note[] = "See you at the snack bar.";
    char *ptr;
    ptr = note;
    puts(ptr);
    puts(++ptr);
    note[7] = '\0';
    puts(note);
    puts(++ptr);    //注意下这行
    return 0;
}
```

----------


### 第三题
3. 下面的程序会打印什么？
        #include<stdio.h>
        #include<string.h>
        int main(void)
        {
            char food[] = "Yummy";
            char *ptr;
            ptr = food + strlen(food);  //strlen()函数的返回值为int型成功记录字符的数量
            while (--ptr >= food)
                puts(ptr);
            return 0;
        }

----------


### 第四题
4. 下面的程序会打印什么？
``` c
#include <stdio.h>
#include <string.h>
int main(void)
{
    char goldwyn[40] = "art of it all ";
    char samuel[40] = "I read p";
    const char *quote = "the way through.";
    strcat(goldwyn, quote);
    strcat(samuel, goldwyn);
    puts(samuel);
    return 0;
}
```

----------



### 第五题

5. 下面的练习涉及字符串、循环、指针和递增指针。首先，假设定义了下面的函数：

        #include <stdio.h>
            char *
            pr(char *str)
        {
            char *pc;
            pc = str;
            while (*pc)
                putchar(*pc++);
            do
            {
                putchar(*--pc);
            } while (pc - str);
            return (pc);
        }
考虑下面的函数调用： x = pr("Ho Ho Ho!");
a.将打印什么？
b.x是什么类型？
c.x的值是什么？
d.表达式*--pc是什么意思？与--*pc有何不同？
e.如果用*--pc替换--*pc，会打印什么？
f.两个while循环用来测试什么？
g.如果pr()函数的参数是空字符串，会怎样？
h.必须在主调函数中做什么，才能让pr()函数正常运行？

----------


### 第六题
6. 假设有如下声明：
char sign = '$';
sign占用多少字节的内存？'$'占用多少字节的内存？"$"占用多少字节的内存？

----------


### 第七题
7. 下面的程序会打印出什么？
``` c
#include <stdio.h>
#include <string.h>
#define M1 "How are ya, sweetie? "
char M2[40] = "Beatthe clock.";
char *M3 = "chat";
int main(void)
{
    char words[80];
    printf(M1);
    puts(M1);
    puts(M2);
    puts(M2 + 1);
    strcpy(words, M2);
    strcat(words, " Win a toy.");
    puts(words);
    words[4] = '\0';
    puts(words);
    while (*M3)
        puts(M3++);
    puts(--M3);
    puts(--M3);
    M3 = M1;
    puts(M3);
    return 0;
}
```

----------


### 第八题
8. 下面的程序会打印出什么？
``` c
#include <stdio.h>
int main(void)
{
    char str1[] = "gawsie";
    char str2[] = "bletonism";
    char *ps;
    int i = 0;
    for (ps = str1; *ps != '\0'; ps++)
    {
        if (*ps == 'a' || *ps == 'e')
            putchar(*ps);
        else
            (*ps)--;
        putchar(*ps);
    }
    putchar('\n');
    while (str2[i] != '\0')
    {
        printf("%c", i % 3 ? str2[i] : '*');
        ++i;
    }
    return 0;
}
```

----------


### 第九题
9. 本章定义的s_gets()函数，用指针表示法代替数组表示法便可减少一个变量i。请改写该函数。
``` c
char *s_gets(char *st, int n)   //原型
{
    char *ret_val;
    int i = 0;
    ret_val = fgets(st, n, stdin);
    if (ret_val)
    {
        while (st[i] != '\n' && st[i] != '\0')  //指针表示法的一大特性就是可以使用递增运算符
            i++;                                //指针加一及将数值赋给解引用后的指针
        if (st[i] == '\n')
            st[i] = '\0';
        else
            while (getchar() != '\n')
                continue;
    }
    return ret_val;
}
```

----------


### 第十题
10. strlen()函数接受一个指向字符串的指针作为参数，并返回该字符串的长度。请编写一个这样的函数。
    //空格也算字符
----------


### 第十一题
11. 本章定义的s_gets()函数，可以用strchr()函数代替其中的while循环来查找换行符。请改写该函数。
    //还有另一个叫做strrchar()的函数  中间多了一个r  函数返回指定字符最后一次出现的位置
----------


### 第十二题
12. 设计一个函数，接受一个指向字符串的指针，返回指向该字符串第1个空格字符的指针，或如果未找到空格字符，则返回空指针。

----------


### 第十三题
13. 重写程序清单11.21，使用ctype.h头文件中的函数，以便无论用户选择大写还是小写，该程序都能正确识别答案。
//作者在答案里居然改了常量答案  //我的方案是全部字符串小写 然后在调用函数让第一个再大写 将这些步骤封装成函数 在s_gets函数后执行
----------

## 编程练习
### 第一题
1. 设计并测试一个函数，从输入中获取下n个字符（包括空白、制表符、换行符），把结果储存在一个数组里，它的地址被传递作为一个参数。

----------


### 第二题
2. 修改并编程练习1的函数，在n个字符后停止，或在读到第1个空白、制表符或换行符时停止，哪个先遇到哪个停止。不能只使用scanf()。

----------


### 第三题
3. 设计并测试一个函数，从一行输入中把一个单词读入一个数组中，并丢弃输入行中的其余字符。该函数应该跳过第1个非空白字符前面的所有空白。将一个单词定义为没有空白、制表符或换行符的字符序列。

----------


### 第四题
4. 设计并测试一个函数，它类似编程练习3的描述，只不过它接受第2个参数指明可读取的最大字符数。

----------


### 第五题
5. 设计并测试一个函数，搜索第1个函数形参指定的字符串，在其中查找第2个函数形参指定的字符首次出现的位置。如果成功，该函数返指向该 字符的指针，如果在字符串中未找到指定字符，则返回空指针（该函数的功 能与 strchr()函数相同）。在一个完整的程序中测试该函数，使用一个循环 给函数提供输入值。

----------


### 第六题
6. 编写一个名为is_within()的函数，接受一个字符和一个指向字符串的指针作为两个函数形参。如果指定字符在字符串中，该函数返回一个非零值 （即为真）。否则，返回0（即为假）。在一个完整的程序中测试该函数， 使用一个循环给函数提供输入值。

----------


### 第七题
7. strncpy(s1, s2, n)函数把s2中的n个字符拷贝至s1中，截断s2，或者有必 要的话在末尾添加空字符。如果s2的长度是n或多于n，目标字符串不能以空字符结尾。该函数返回s1。自己编写一个这样的函数，名为mystrncpy()。在一个完整的程序中测试该函数，使用一个循环给函数提供输入值。

----------


### 第八题
8. 编写一个名为string_in()的函数，接受两个指向字符串的指针作为参数。如果第2个字符串中包含第1个字符串，该函数将返回第1个字符串开始的地址。例如，string_in("hats", "at")将返回hats中a的地址。否则，该函数返 回空指针。在一个完整的程序中测试该函数，使用一个循环给函数提供输入值。

----------

### 第九题
9. 编写一个函数，把字符串中的内容用其反序字符串代替。在一个完整的程序中测试该函数，使用一个循环给函数提供输入值。

----------

### 第十题
10. 编写一个函数接受一个字符串作为参数，并删除字符串中的空格。在一个程序中测试该函数，使用循环读取输入行，直到用户输入一行空行。 该程序应该应用该函数只每个输入的字符串，并显示处理后的字符串。

----------

### 第十一题
11. 编写一个函数，读入10个字符串或者读到EOF时停止。该程序为用户提供一个有5个选项的菜单：打印源字符串列表、以ASCII中的顺序打印字 符串、按长度递增顺序打印字符串、按字符串中第1个单词的长度打印字符串、退出。菜单可以循环显示，除非用户选择退出选项。当然，该程序要能真正完成菜单中各选项的功能。

----------

### 第十二题
12. 编写一个程序，读取输入，直至读到 EOF，报告读入的单词数、大写字母数、小写字母数、标点符号数和数字字符数。使用ctype.h头文件中的函数。

----------

### 第十三题
13. 编写一个程序，反序显示命令行参数的单词。例如，命令行参数是see you later，该程序应打印later you see。

----------

### 第十四题
14. 编写一个通过命令行运行的程序计算幂。第1个命令行参数是double类型的数，作为幂的底数，第2个参数是整数，作为幂的指数。

----------

### 第十五题
15. 使用字符分类函数实现atoi()函数。如果输入的字符串不是纯数字，该函数返回0。

----------

### 第十六题
16. 编写一个程序读取输入，直至读到文件结尾，然后把字符串打印出来。该程序识别和实现下面的命令行参数：
 -p  按原样打印
 -u  把输入全部转换成大写
 -l  把输入全部转换成小写
 如果没有命令行参数，则让程序像是使用了-p参数那样运行。

----------
